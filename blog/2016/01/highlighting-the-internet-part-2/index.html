<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Highlighting the Internet (part 2) - Chris Castle</title>
  <meta name="description" content="Two weeks ago I built the first part of a project to help me more actively read, recall what I read, and keep track of all the delightful bits of prose I com...">
  <meta name="author" content="Chris Castle">

  <link rel="stylesheet" href="/blog/css/main.css">
  <link rel="canonical" href="https://crc.io/blog/2016/01/highlighting-the-internet-part-2/">
  <link rel="alternate" type="application/rss+xml" title="Chris Castle" href="https://crc.io/blog/feed.xml">

  <!-- Beauty -->
  <link href='https://fonts.googleapis.com/css?family=Libre+Baskerville|Josefin+Slab:100|Open+Sans:300,600,700,300italic' rel='stylesheet' type='text/css'>
  <!-- <link href='/css/google-fonts.css' rel='stylesheet' type='text/css'> -->

  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome! -->
  <link rel="stylesheet" href="/css/font-awesome.min.css">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/css/cover.css" rel="stylesheet">

  <!-- Begin Inspectlet Embed Code -->
  <script type="text/javascript" id="inspectletjs">
  window.__insp = window.__insp || [];
  __insp.push(['wid', 742101973]);
  (function() {
    function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
    setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
  })();
  </script>
  <!-- End Inspectlet Embed Code -->

  <!-- Begin Jaco code -->
  <script type="text/javascript">
  (function(e, t) {
    var n = "JacoRecorder";
    (function(e, t, r, i) {
      if (!r.__VERSION) {
        function s(e, t) {
          e[t] = function() {
            e.q.push([ t ].concat(Array.prototype.slice.call(arguments, 0)));
          };
        }
        e[n] = r, r.q = [];
        var o = [ "init", "identify", "startRecording", "stopRecording", "removeUserTracking", "setUserInfo", "exec" ];
        for (var u = 0; u < o.length; u++) s(r, o[u]);
        r.__VERSION = .9, r.__INIT_TIME = 1 * new Date;
        var a = t.createElement("script");
        a.async = !0, a.setAttribute("crossorigin", "anonymous"), a.src = i;
        var f = t.getElementsByTagName("head")[0];
        f.appendChild(a);
      }
    })(e, t, e[n] || [], "//bo.getjaco.com/build/recorder.js");
  })(window, document), JacoRecorder.init("4a94c410-40af-4cd2-a05f-7ae432505992", {});
  </script>
  <!-- End Jaco code -->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>


  <body>
    <div id="background-image"></div>

    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">

          <div class="masthead clearfix">
  <div class="inner">
    <h3 class="masthead-brand">Chris Castle</h3>
    <nav>
      <ul class="nav masthead-nav">
        <li><a href="/">Home</a></li>
        <li class="active"><a href="/blog/">Posts</a></li>
        <li><a href="/projects/">Projects</a></li>
        <li><a href="/speaking/">Speaking</a></li>
        <li><a href="/resume/">Resume</a></li>
      </ul>
    </nav>
  </div>
</div>


          <div class="inner cover container-fluid">

            <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Highlighting the Internet (part 2)</h1>
    <p class="post-meta"><time datetime="2016-01-31T00:00:00-08:00" itemprop="datePublished">January 31, 2016</time></p>
    <p><span id="read-time"></span> read (<span id="word-count"></span> words)</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Two weeks ago I built the <a href="/blog/2016/01/highlighting-the-internet/">first part</a> of a project to help me more actively read, recall what I read, and keep track of all the delightful bits of prose I come upon.</p>

<p>This week I finished up the project by 1) figuring out how to save highlighted text from any possible web page, and 2) building a way to nicely display all those interesting bits of text on a <a href="/projects/reading/">web page</a>.</p>

<p>Also I created a GitHub organization to house all the code (really not a lot of code) for this.  Check it out and set it up for yourself: <a href="https://github.com/reading-highlights"><span class="icon icon--github"><svg viewbox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg>
</span><span class="username">reading-highlights</span></a>
.</p>

<h4 id="design-summary">Design Summary</h4>
<p><img src="/img/highlights-architecture-v2.png" alt="Reading Highlights Architecture v2" /></p>

<p>Here’s a diagram of the design.  It uses <a href="https://aws.amazon.com/sns/">AWS SNS</a> as a simple <a href="https://en.wikipedia.org/wiki/Publish–subscribe_pattern">pub/sub</a> service, Google Spreadsheets as a database, and <a href="https://aws.amazon.com/lambda/">AWS Lambda</a> functions to collect the highlights from various sources and then write them to the <a href="https://docs.google.com/spreadsheets/d/1VCkPCinhG-HiZJuvWPYq1wMIEpdHOdbCRF2lTDsOMBc/">spreadsheet</a>.  Then I use the <a href="https://github.com/jsoma"><span class="icon icon--github"><svg viewbox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg>
</span><span class="username">jsoma</span></a>
 /
<a href="https://github.com/jsoma/tabletop">tabletop</a> library to pull from the spreadsheet and create a <a href="/projects/reading/">nice looking web page</a>.</p>

<h4 id="details-highlight-any-page">Details: Highlight Any Page</h4>
<p>So after figuring out how to collect my <a href="https://medium.com">medium.com</a> highlights, I needed to do the same for text I highlighted elsewhere on the web – on the <a href="http://www.nytimes.com">New York Times</a>, <a href="http://www.theatlantic.com">The Atlantic</a>, <a href="http://qz.com">qz.com,</a> or any other site I read.</p>

<p>There were really two problems to solve here:</p>

<p><em>1. How do I highlight text while I’m reading it?</em></p>

<p>Browsers do not provide a native way to highlight text – like yellow-highlighter-highlight it – although there seems to be an effort to define a standard by the W3C <a href="http://www.w3.org/annotation/">Web Annotation Working Group</a>.  This is great, but unfortunately doesn’t help me much right now.</p>

<p>So after much searching, I found an open source project called <a href="https://hypothes.is">hypothes.is</a>.  They have created a Chrome extension and a browser-agnostic bookmarklet allowing you to highlight (and annotate!) text on any web page.  It is based on an open source JavaScript library, <a href="http://annotatorjs.org">Annotator</a>, which allows annotation functionality to be added to any web page.  I also really like the <a href="https://hypothes.is/about/">overall goals</a> of <a href="https://hypothes.is">hypothes.is</a> including their non-profit status and that they are a contributor to the W3C Web Annotation Working Group.</p>

<p><img src="/img/hypothesis-bookmarklet-highlight.gif" alt="Highlighting with Hypothes.is Bookmarklet in Safari" /></p>

<p>Here’s an example of the browser bookmarklet.</p>

<p><img src="/img/hypothesis-chrome-highlight.gif" alt="Highlighting with Hypothes.is Chrome Extension" /></p>

<p>And here’s an example of the Chrome extension in action.  They’re pretty similar.  The only downside for me is that neither work or work very well in iOS Safari or Chrome.</p>

<p><em>2. Now, how do I save the highlighted bits of text along with some metadata about the page?</em></p>

<p><a href="https://hypothes.is">Hypothes.is</a> also solves this problem.  In addition to highlighting the text in yellow, it saves the highlight plus metadata to <a href="https://hypothes.is">hypothes.is</a> databases.  And <a href="https://hypothes.is">hypothes.is</a> provides an <a href="http://h.readthedocs.org/en/latest/api.html">API</a> so that I can extract my highlights in a structured format and write them to a Google Spreadsheet.</p>

<h4 id="details-display-the-highlights">Details: Display The Highlights</h4>
<p>Once the highlights were stored in a Google Spreadsheet, I wanted a way to display them in a stylized format on the web.  I found a library on GitHub called tabletop (<a href="https://github.com/jsoma"><span class="icon icon--github"><svg viewbox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg>
</span><span class="username">jsoma</span></a>
 /
<a href="https://github.com/jsoma/tabletop">tabletop</a>).  Tabletop made it really easy to grab data from the spreadsheet and slap it in to a little <a href="http://handlebarsjs.com">handlebars</a> template!</p>

<p><img src="/img/reading-highlights-page.png" alt="Reading Highlights" /></p>

<p>Here’s a screenshot of the page. Check out <a href="/projects/reading/">the live one here</a>.</p>

<h4 id="cheap">Cheap</h4>
<p>Oh yeah, I forgot to mention that all of the AWS pieces cost less than a dollar a month – actually, likely less than $0.25 a month.</p>

<h4 id="questions">Questions?</h4>
<p>Tweet at me, <a href="https://twitter.com/crc"><span class="icon icon--twitter"><svg viewbox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"></path></svg>
</span><span class="username">crc</span></a>
, if you have questions or comments about this.  Also check out this talk if you’re craving more on the power of highlighting and annotation: <a href="https://www.youtube.com/watch?v=2jTctBbX_kw">The Revolution Will Be Annotated!</a></p>


  </div>

</article>


          </div>

          <div class="mastfoot">
  <div class="inner">
    <a href="https://github.com/crcastle"><i class="fa fa-github fa-2x"></i></a>
    <a href="https://instagram.com/crcastle/"><i class="fa fa-instagram fa-2x"></i></a>
    <a href="https://twitter.com/crc"><i class="fa fa-twitter fa-2x"></i></a>
    <br>
    <p>Image credit <a href="http://deathtothestockphoto.com">deathtothestockphoto.com</a></p>
  </div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery-1.11.3.min.js"><\/script>')</script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/readingTime.min.js"></script>
<script>
  var article = $('article.post');
  if (article) {
    article.readingTime({
      lessThanAMinuteString: 'Less than a minute',
      readingTimeTarget: '#read-time',
      wordCountTarget: '#word-count',
      wordsPerMinute: 150
    });
  }
</script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="/js/ie10-viewport-bug-workaround.js"></script>
<script>
  // only run google analytics when served from crc.io domain
  if (! /crc\.io/.test(window.location.hostname) ) {
    window['ga-disable-UA-54700563-1'] = true;
    console.log('Google Analytics disabled');
  }
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54700563-1', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>


        </div>

      </div>

    </div>

  </body>

</html>
